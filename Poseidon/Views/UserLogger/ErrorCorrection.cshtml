@model Poseidon.Models.Logger

@{
    ViewBag.Title = "   PreviewFormulario";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
<div id="example" align="left" class="k-content2">
    <fieldset class="k-block">

        <h3>Detalles del Sitio</h3>

        <table>

            <tr class="">
                @Html.HiddenFor(model => model.logger_id)

                @*EMPRESA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Empresa</label>
                </td>

                <td>

                    <div class="editor-field">
                        @Html.TextBoxFor(model => model.Company.company_name, new { style = "width: 190px", disabled = "disabled" })
                    </div>

                </td>

                @*NUMERO DE SERIE*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Número de serie</label>
                </td>

                <td>

                    @Html.TextBoxFor(model => model.logger_serial_number, new { style = "width: 190px", disabled = "disabled" })
                </td>

            </tr>

            <tr>

                @*ACCEDER AL SITIO*@
                <td>

                    <label for="fullname" class="required" style="width:210px">¿Problemas con ingreso al Sitio?</label>

                </td>

                <td>
                    <fieldset class="k-block" style="width:200px">
                        @Html.HiddenFor(model => model.necesary_site_enter)
                        @Html.RadioButtonFor(model => model.necesary_site_enter, "true", new { Checked = "checked", style = "width: 50px" })Si
                        @Html.RadioButtonFor(model => model.necesary_site_enter, "false", new { style = "width: 50px" })No

                    </fieldset>
                </td>

                @*TIPO DE INSTALACIÓN*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Tipo de instalación</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.instalation_type_logger, new { style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>

            <tr>

                @*NUMERO DE TELEFONO*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Número de teléfono</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.logger_sms, new { style = "width: 190px", disabled = "disabled" })
                </td>

                @*COMPAÑIA DE TELEFONO*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Compañia teléfono</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.type_company_sms, new { style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>


            <tr>
                @*CONDICIONES INSTALACIÓN*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Condiciones del Lugar de la Instalacion?</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.conditions_installation, new { style = "width: 190px", disabled = "disabled" })
                </td>

                @*INTERPERIE*@
                <td>

                    <label for="fullname" class="required" style="width:210px">¿Logger se encuentra a la interperie?</label>
                </td>

                <td>
                    <fieldset class="k-block">
                        @Html.RadioButtonFor(model => model.logger_outdoor, "true", new { Checked = "checked", style = "width: 50px" })Si
                        @Html.RadioButtonFor(model => model.logger_outdoor, "false", new { style = "width: 50px" })No
                    </fieldset>

                </td>
            </tr>

        </table>

    </fieldset>
    <br>
    <br>


    <fieldset class="k-block">

        <h3>Detalles de la Calidad de la Señal</h3>

        <table align="left" id="camera_table_id">

            <tr align="left">

                @*POSICION ANTENA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Posición de la antena</label>

                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.antenna_position, new { style = "width: 190px", disabled = "disabled" })

                    </div>
                </td>

                @*TIPO DE ANTENA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Tipo de Antena Usada</label>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.antenna_type, new { style = "width: 190px", disabled = "disabled" })
                </td>

            </tr>

            <tr>

                @*FINAL CSQ*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Final Csq</label>

                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.final_csq, new { style = "width: 190px", disabled = "disabled" })

                    </div>

                </td>

                @*CSQ FUERA DE CAMARA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">CSQ fuera de la Camara</label>

                </td>

                <td>
                    <fieldset class="k-block" style="width:200px">
                        @Html.RadioButtonFor(model => model.Csq_outdoor, "true", new { Checked = "checked", style = "width: 50px" })Si
                        @Html.RadioButtonFor(model => model.Csq_outdoor, "false", new { style = "width: 50px" })No


                    </fieldset>
                </td>

            </tr>

            <tr>
                @*GPRS STATUS*@
                <td>

                    <label for="fullname" class="required" style="width:210px">Test GPRS</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.gprs_test_status, new { style = "width: 190px", disabled = "disabled" })

                </td>

                @*SE PUEDE INSTALAR POSE DE ANTENA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Se puede Instalar Poste para Antena</label>
                </td>

                <td>
                    <div>
                        <fieldset class="k-block" style="width:200px">
                            @Html.RadioButtonFor(model => model.can_lamppost_with_antenna, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.can_lamppost_with_antenna, "false", new { style = "width: 50px" })No
                        </fieldset>
                    </div>
                </td>

            </tr>

        </table>

    </fieldset>

    <br>
    <br>


    <fieldset class="k-block">

        <h3>Detalles de la Instalación</h3>

        <table align="left">

            <tr align="center">

                @*TIPO DE INSTALACIÓN SITE*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Tipo de Instalación</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.instalation_type, new { style = "width: 190px", disabled = "disabled" })

                </td>

                @*FLUJOMETRO STATUS*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Estado del Flujómetro</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.state_flowmeter, new { style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>

            <tr>
                @*LECTURA MANOMETRO*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Lectura Manómetro AAr</label>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.manometer_aab_value, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

                @*TIPO DE FLUJOMETRO*@
                <td>

                    <label for="fullname" class="required" style="width:210px">Tipo de Flujómetro</label>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.type_flowmeter, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>

            <tr>
                @*LECTURA LOGGER AAR*@
                <td>

                    <label for="fullname" class="required" style="width:210px">Lectura Logger AAr</label>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.logger_aar_value, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

                @*CON EMISOR DE PULSOS*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Emisor de Pulsos</label>

                </td>

                <td>

                    <div>
                        <fieldset class="k-block" style="width:200px">

                            @Html.RadioButtonFor(model => model.with_pulser, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.with_pulser, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>

                </td>

            </tr>

            <tr>

                @*LECTURA MANOMETRO AAB*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Lectura Manómetro AAb</label>
                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.manometer_aar_value, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                    </div>

                </td>

                @*FUE REEMPLAZADO EL EMISOR DE PULSOS*@
                <td>
                    <label for="fullname" class="required" style="width:210px">¿Fue Reeplazado el Emisor de Pulsos?</label>
                </td>

                <td>

                    <div>
                        <fieldset class="k-block" style="width:200px">

                            @Html.RadioButtonFor(model => model.pulser_changed, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.pulser_changed, "false", new { style = "width: 50px" })No
                        </fieldset>
                    </div>

                </td>

            </tr>

            <tr>

                @*LECTURA DE LOGGER AAB*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Lectura Logger AAb</label>

                </td>

                <td>

                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.logger_aab_value, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                    </div>

                </td>

                @*LITROS POR PULSOS*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Litros por Pulso</label>

                </td>

                <td>

                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.liters_per_pulser, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })
                    </div>

                </td>

            </tr>

        </table>

    </fieldset>

    <br>
    <br>
    <fieldset class="k-block">

        <h3>Detalles de la Cámara</h3>

        <table>

            <tr>
                @*POSICION DEL LOGGER*@
                <td>

                    <label for="fullname" class="required" style="width:210px">Posición del Logger</label>

                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.logger_position, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                    </div>

                </td>

                @*BOMBA PARA DESAGUAR*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Se necesita Bomba para Desaguar?</label>

                </td>

                <td>

                    <div>
                        <fieldset class="k-block" style="width:200px">

                            @Html.RadioButtonFor(model => model.necessary_drain, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.necessary_drain, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>

                </td>

            </tr>

            <tr>
                @*CAMARA INUNDADA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Cámara Inundada</label>
                </td>

                <td>
                    <div>
                        <fieldset class="k-block" style="width:200px">

                            @Html.RadioButtonFor(model => model.flooded_chamber, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.flooded_chamber, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>

                </td>


                @*MANIPULAR TRAFICO*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Se necesita Desviar/Manipular Trafico?</label>

                </td>

                <td>

                    <div>
                        <fieldset class="k-block" style="width:200px">
                            @Html.RadioButtonFor(model => model.necessary_manipulate_traffic, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.necessary_manipulate_traffic, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>

                </td>

            </tr>

            <tr>
                @*TIPO DE CAMARA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Tipo de Cámara</label>

                </td>

                <td>

                    @Html.TextBoxFor(model => model.manometer_aar_value, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

                @*HERRAMIENTA PARA ABRIR CAMARA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">¿Es necesario Herramienta para apertura de Cámara?</label>

                </td>

                <td>
                    <div>
                        <fieldset class="k-block" style="width:200px">

                            @Html.RadioButtonFor(model => model.necessary_tool_open_chamber, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.necessary_tool_open_chamber, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>

                </td>

            </tr>

            <tr>

                @*CONDICIONES DE LA CAMARA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Condición de La Cámara</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.chamber_condition, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

                @*TIPO DE CAMARA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Tipo de Tapa de Camara</label>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.chamber_type_tap, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>
            </tr>

            <tr>

                @*DOS OPERADORES PARA ABRIR CAMARAA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">¿Se necesitaron 2 operadores para abrir la cámara?</label>

                </td>

                <td>

                    <div>
                        <fieldset class="k-block" style="width:200px">
                            @Html.RadioButtonFor(model => model.two_thechnical_open_chamber, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.two_thechnical_open_chamber, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>
                </td>

            </tr>


        </table>

    </fieldset>

    <br>

    <br>

    <fieldset class="k-block">

        <h3>Canales Usados del Logger</h3>

        <table align="left">

            <tr>
                @*CANAL 1*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Canal 1</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.channel_1, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

                @*CANAL 3*@
                <td>

                    <label for="fullname" class="required" style="width:210px">Canal 3</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.channel_3, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>

            <tr>
                @*CANAL 2*@
                <td>
                    <div>
                        <label for="fullname" class="required" style="width:210px">  Canal 2</label>
                    </div>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.channel_2, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })
                </td>

                @*CANAL 4*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Canal 4</label>
                </td>

                <td>
                    @Html.TextBoxFor(model => model.channel_4, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>
        </table>

    </fieldset>

    <br>
    <br>


    <fieldset class="k-block">

        <h3>Equipamiento Utilizado(Por el Instalador)</h3>

        <table align="left">



            <tr align="left">

                @*TIPO DE LOGGER*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Tipo de Logger</label>

                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.logger_type, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                    </div>
                </td>

                @*BATERIA INSTALADA*@
                <td>

                    <label for="fullname" class="required" style="width:210px">¿Batería Instalada?</label>

                </td>

                <td>
                    <div>
                        <fieldset class="k-block">

                            @Html.RadioButtonFor(model => model.battery_installed, "true", new { Checked = "checked", style = "width: 50px" })Si
                            @Html.RadioButtonFor(model => model.battery_installed, "false", new { style = "width: 50px" })No

                        </fieldset>
                    </div>

                </td>

            </tr>

            <tr>

                @*NUMERO SERIE BATERIA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">N/S Logger</label>

                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.logger_serial_number, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                    </div>

                </td>

                @*TIPO DE BATERIA*@
                <td>

                    <label for="fullname" class="required" style="width:210px">Tipo de Bateria</label>

                </td>

                <td>
                    @Html.TextBoxFor(model => model.battery_type, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                </td>

            </tr>


            <tr>
                @*NUMERO SERIE BATERIA*@
                <td>
                    <label for="fullname" class="required" style="width:210px">N/S Bateria</label>
                </td>

                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.battery_serial_number, new { @class = "form-control", style = "width: 190px", disabled = "disabled" })

                    </div>

                </td>

            </tr>
        </table>

    </fieldset>

    <br>
    <br>


    <fieldset class="k-block">

        <h3>Descripción Instalación</h3>

        <table align="left">

            <tr>
                @*COMENTARIOS*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Comentarios Administrador</label>
                </td>

                <td width="210px">
                    @Html.TextAreaFor(model => model.user_approval_note, new { @style = " background-color: #ffffff;width: 190px; height: 100px;", @disabled = "disabled" })

                </td>

            </tr>
            <tr>
                @*FECHA Y HORA DE TERMINO*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Fecha Rechazo</label>

                </td>
                <td>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.creation_date, new { @class = "form-control", disabled = "disabled", style = "width: 190px" })
                        @Html.ValidationMessageFor(model => model.creation_date, String.Empty, new { @class = "help-inline", @style = "color:red" })
                    </div>

                </td>
            </tr>

            <tr>
                @*SUBIR IMAGEN*@
                <td>
                    <label for="fullname" class="required" style="width:210px">Imagen de instalación</label>
                </td>
                <td>
                    <img src="@Url.Content("~/Images/" + Model.url_image)" alt="Image" width="250" height="200" />
                </td>

            </tr>

        </table>

    </fieldset>

    <br />
    <br />
    <fieldset class="k-block">

        <h3>Corrección problema de Instalación</h3>

        <table align="left">

            <tr>
                @*Corregir*@
                <td>
                    <label for="fullname" class="required" style="width:800px">Se continua instalación, cumpliendo ahora todos los requisitos para proceder a su aprobación.</label>
                </td>
                <td>
                   
                    @Html.CheckBox("Check")Si
                 
                </td>

            </tr>

            <tr>
             


            </tr>

            <tr>
            
            </tr>

        </table>

    </fieldset>



    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Guardar" class="btn btn-default" />
            <input type="button" value="Volver" class="btn btn-default" width="170" id="btnBack" onclick="location.href='@Url.Action("LisLogger", "UserLogger")' " />
        </div>
    </div>

</div>

}



<script>
        function onSelect(e) {

            $("#kendoUploadImage").show();

        }

        function onSuccess(e) {

            var responseTxt = jQuery.parseJSON(e.XMLHttpRequest.responseText);

            var status = responseTxt.Status;
            var srcValue = responseTxt.PictureUrl;
            alert(srcValue);
            if (status == true) {
                $("#imgUploaded").attr('src', srcValue);
            } else {
                $("#imgUploaded").attr('src', srcValue);
                $("#kendoUploadImage").hide();
            }

        }

        $(document).ready(function () {

            var lat = $("#flooded_chamber").val();
            var enter = $("#necesary_site_enter").val();


            if (enter == "True") {
                EnterYes();
            }
            if (lat == "True") {
                ApproveYes();
            }

        });

        function ApproveYes() {
            $("#signal_quality_id").hide();
            $("#instalation_detail_id").hide();
            $("#logger_canal_id").hide();
            $("#tool_thechnical_id").hide();


            var lat = $("#flooded_chamber");
            lat.val(true)
        }

        function EnterYes() {
            $("#signal_quality_id").hide();
            $("#instalation_detail_id").hide();
            $("#logger_canal_id").hide();
            $("#tool_thechnical_id").hide();
            $("#camera_table_id").hide();

            var lat = $("#flooded_chamber");
            lat.val(true);

        }

        $(function () {

            $("#Check").click(function () {
                var isChecked = $(this).attr("checked");
                if (isChecked) {
                    var fd = $("Check").val;
                    //window.location.href = "@Url.Action("ErrorCorrection", "UserLogger");
                }
                else {
                    alert("Debe Aprobar condición antes de continuar");
                }
            });
        });
       


</script>

